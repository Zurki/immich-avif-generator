services:
  avif-generator:
    build: .
    container_name: avif-generator
    restart: unless-stopped
    ports:
      - "3000:3000"
    volumes:
      # Mount your config file
      - ./config.toml:/app/config.toml:ro
      # Persist data (original images, AVIF files, and database)
      - ./data:/app/data
    environment:
      - RUST_LOG=info
    # Override command if you only want to run specific operations:
    # command: ["avif-generator", "--config", "/app/config.toml", "serve"]
